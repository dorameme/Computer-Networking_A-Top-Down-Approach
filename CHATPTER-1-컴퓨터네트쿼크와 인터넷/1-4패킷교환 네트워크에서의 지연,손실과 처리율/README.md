# 1-4 패킷교환 네트워크에서의 지연,손실과 처리율
## 1.4.1 패킷교환 네크워크에서의 지연개요

라우터는  입력 포트(input port)와 출력 포트(output port)에 **큐**를 두어 패킷을 일시적으로 저장한다.
이러한 큐의 역할은 다음과 같다.
1. 출력 될때 여러 패킷이 동시에 출력포트로 전송되는 충돌을 막고 혼잡 처리 
2. 네트워크 혼잡시 패킷손실을 방지
3. 큐에 패킷을 잠시 두어 네트워크 부하 완화
   
### 지연 유형 

- 처리 지연
  - 패킷 헤더를 조사한 뒤 어디로 보낼지 결정하는 시간
- 큐잉 지연
  - 큐에서 링크로 전송되기를 기다리는 시간
  - 큐잉 지연 길이는 큐에 저장되어 있는 링크로 전송되기를 기다리는 다른 앞서 도착한 패킷 수에 의해 결정된다.
- 전송 지연
  - 패킷을 라우터에서 내보내는 데 걸리는 시간
- 전파 지연
  - 한 라우터에서 다름 라우터로 이동하는데 걸리는 시간 (두 라우터 거리에 대한 함수로 패킷길이나 링크전송률과는 무관)

## 1.4.2 큐잉 지연과 패킷 손실
 노드에서의 성능은 세가지로 판단가능하다.
1. 큐잉 지연 정도
2. 패킷 손실 확률
3. 종단간 처리율
   
- 큐잉 지연
  - 네트워크가 혼잡하지 않으면 큐잉 지연은 무시할 수 있다.
  - 큐잉지연은 패킷마다 다를 수 있다. 첫번째 전송된 패킷은 지연 영향을 안받지만, 마지막은 지연될 가능성이 높다.
  - 트래픽강도가 1이면 거의 무한대의 대기시간이 걸리므로 1보다 크지 않게 시스템을 설계하는 것이 중요하다.

- 패킷 손실
  - 큐는 유한 용량을 가지므로 사실 패킷지연이 실제로 무한대가 되지않는다. 그대신 꽉차면 DROP 한다.

## 1.4.3 종단간 지연
- 종단간 지연은 **출발지**에서 **목적지**까지 데이터 패킷이 전달되는 데 걸리는 총 시간을 의미한다.
  
    이는 네트워크 경로 상의 다양한 지연 요소가 결합되어 결정된다.

### 1.4.4 컴퓨터 네트워크에서의 처리율
- 일반적으로 처리율은 경로상 링크의 전송속도뿐만 아닌 네트워크 혼잡도 같은 간섭하는 트래픽에도 영향을 받는다.
