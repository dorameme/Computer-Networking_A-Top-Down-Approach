라우팅 프로토콜은 네트워크 내에서 최적의 경로를 결정하고 라우팅 테이블을 동적으로 업데이트하는 역할을 한다. 대표적인 라우팅 프로토콜에는 BGP, OSPF, RIP가 있으며, 이들은 동작 방식과 적용 범위가 다르다.  

---

## 1. 라우팅 프로토콜의 분류
라우팅 프로토콜은 크게 IGP(Interior Gateway Protocol)와 EGP(Exterior Gateway Protocol)로 나뉜다.

| 분류 | 설명 | 대표 프로토콜 |
|--------|--------|----------------|
| IGP(내부 라우팅 프로토콜) | 하나의 자율 시스템(AS) 내에서 사용되는 라우팅 프로토콜 | OSPF, RIP, EIGRP |
| EGP(외부 라우팅 프로토콜) | AS 간 최적 경로를 결정하는 라우팅 프로토콜 | BGP |

---

## 2. 주요 라우팅 프로토콜
### (1) BGP(Border Gateway Protocol)
➡ 인터넷을 구성하는 핵심 라우팅 프로토콜로, AS 간 경로를 결정하는 EGP이다.  

#### 특징
- Path Vector 라우팅 프로토콜: 경로 정보를 AS 번호를 포함한 경로 벡터로 관리
- 대규모 네트워크(인터넷)에서 사용
- 경로 선택 기준: Local Preference, AS Path, MED 등의 정책 기반 선택
- 신뢰성이 높고 경로 안정성이 중요함

#### BGP 동작 방식
1. BGP 피어(peer) 형성: AS 간 BGP 라우터가 서로 연결(Neighbor 관계 형성)
2. 경로 학습 및 광고: 네트워크 정보를 교환하며 최적 경로 선택
3. 정책 기반 경로 선택: 가장 짧은 AS Path 등의 기준으로 최적 경로 결정
4. 라우팅 테이블 업데이트: 선택된 경로를 반영하여 패킷을 전달

✔ 예제:  
AS 100이 AS 200과 AS 300을 통해 인터넷에 연결되어 있다면,  
- BGP는 각 경로의 AS Path를 비교하여 짧은 경로를 우선 선택한다.

---

### (2) OSPF(Open Shortest Path First)
➡ 대규모 기업 네트워크에서 널리 사용되는 IGP로, 링크 상태 라우팅 프로토콜이다.  

#### 특징
- Dijkstra 알고리즘을 사용하여 최단 경로(Shortest Path)를 계산
- 라우팅 정보를 계층적(Area)으로 관리하여 네트워크 확장성을 높임
- 빠른 수렴 속도와 정확한 라우팅 정보 제공
- IP 기반의 라우팅을 지원하며, 비용(Cost) 기반 경로 선택

#### OSPF 동작 방식
1. Hello 패킷을 통해 인접 라우터 발견  
2. LSA(Link-State Advertisement)로 네트워크 상태 정보 교환  
3. 링크 상태 데이터베이스(LSDB) 구축  
4. Dijkstra 알고리즘으로 최단 경로 트리(SPT) 계산  
5. 라우팅 테이블 업데이트 후 패킷 전달  

✔ 예제:  
만약 네트워크에 3개의 경로가 있다면,  
- OSPF는 각 경로의 Cost를 비교하여 가장 낮은 Cost를 가진 경로를 선택한다.

---

### (3) RIP(Routing Information Protocol)
➡ 소규모 네트워크에서 사용되는 거리 벡터(Distance Vector) 라우팅 프로토콜이다.

#### 특징
- 홉 카운트(Hop Count) 기반 경로 선택 (최대 15홉 제한)
- 네트워크 트래픽이 적어 소규모 네트워크에 적합
- 라우팅 업데이트가 30초마다 발생하여 속도가 느림
- 단순한 구조이지만, 대규모 네트워크에서는 비효율적

#### RIP 동작 방식
1. 라우터 간 주기적(RIP Update)으로 거리 정보(Hop Count) 교환  
2. 가장 홉 수가 적은 경로를 선택하여 라우팅 테이블 업데이트  
3. 최대 홉 카운트가 15이므로, 16홉 이상은 도달할 수 없는 네트워크로 판단(Distance Vector 특성)  

✔ 예제:  
라우터가 네트워크 192.168.1.0/24로 가는 두 개의 경로를 알고 있다면,  
- A → B → C (홉 수: 2)  
- A → D → E → F → C (홉 수: 4)  
- RIP는 홉 수가 2인 첫 번째 경로를 선택한다.

---

## 3. 라우팅 프로토콜 비교

| 프로토콜 | 타입 | 동작 방식 | 경로 선택 기준 | 장점 | 단점 |
|---------|------|---------|-------------|-----|-----|
| BGP | EGP | Path Vector | AS Path, Local Preference, MED | 대규모 인터넷 네트워크 지원, 정책 기반 라우팅 가능 | 설정이 복잡함, 속도가 느림 |
| OSPF | IGP | Link State | Cost 기반 (대역폭 고려) | 빠른 수렴 속도, 대규모 네트워크 지원 | 설정이 복잡함 |
| RIP | IGP | Distance Vector | 홉 수 (최대 15) | 설정이 단순 | 대규모 네트워크에 부적합, 수렴 속도가 느림 |

---

## 4. 어떤 경우에 어떤 라우팅 프로토콜을 사용할까?
| 상황 | 추천 프로토콜 |
|---------|----------------|
| 인터넷 서비스 제공업체(ISP) 간 연결 | BGP |
| 대규모 기업 네트워크(빠른 라우팅, 복잡한 토폴로지) | OSPF |
| 소규모 네트워크(사무실, 가정) | RIP |

---

## 5. 정리
1. BGP: 인터넷 경로 선택을 담당하는 EGP, AS 간 연결을 관리  
2. OSPF: 대규모 내부 네트워크에서 사용되는 IGP, 링크 상태 기반 최단 경로 탐색  
3. RIP: 소규모 네트워크에서 사용되는 IGP, 홉 수 기반 거리 벡터 방식  

➡ 대규모 네트워크라면 OSPF/BGP, 소규모 네트워크라면 RIP! 
