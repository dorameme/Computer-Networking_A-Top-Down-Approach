## 3.1 트랜스포트 계층 서비스 및 개요

트랜스포트 계층 프로토콜은 서로 다른 호스트에서 동작하는 애플리케이션 프로세스 간의 논리적 통신을 제공한다.&#x20;

이는 애플리케이션이 동작하는 호스트들이 직접 연결된 것처럼 보이도록 한다.

트랜스포트 계층은 종단 시스템에서 구현되며, 네트워크 라우터에서는 동작하지 않는다.&#x20;

송신 측에서는 애플리케이션 메시지를 작은 조각으로 나누어 트랜스포트 계층 세그먼트를 생성하고, 수신 측에서는 이를 재조합하여 원래 메시지를 복원한다.

---

### 3.1.1 트랜스포트 계층과 네트워크 계층 사이의 관계

**1. 트랜스포트 계층: 프로세스 간 통신**

- 정의: 동일하거나 다른 호스트에서 동작하는 두 프로세스 간 데이터를 주고받게 하는 계층이다.
- 논리적 통신: 두 프로세스는 서로 직접 연결된 것처럼 보인다.
- 예: 웹 브라우저와 웹 서버 간 데이터 전송(TCP 기반 HTTP).

2\. 네트워크 계층: 호스트 간 통신

- 정의: 네트워크 상에서 호스트(컴퓨터) 간에 데이터를 전달하는 계층이다.
- 논리적 통신: 데이터는 여러 네트워크 장비(라우터, 스위치)를 통해 전달되지만, 호스트들은 서로 직접 연결된 것처럼 작동한다.
- 예: IP 주소 기반으로 패킷을 한 호스트에서 다른 호스트로 전달.

#### 주요 역할

- 송신 측: 메시지를 분할하고 트랜스포트 계층 헤더를 추가하여 세그먼트를 생성한 뒤 네트워크 계층으로 전달한다.
- 수신 측: 네트워크 계층으로부터 세그먼트를 받아 이를 재조합하여 애플리케이션에 전달한다.

---

### 3.1.2 인터넷 트랜스포트 계층의 개요

#### 주요 프로토콜

1. **TCP (Transmission Control Protocol)**

   - 신뢰적이고 연결지향적인 서비스
   - 혼잡 제어를 통해 네트워크 자원을 공평하게 사용하도록 보장한다.
   - 데이터 순서와 무결성을 보장한다.

2. **UDP (User Datagram Protocol)**

   - 비신뢰적이고 비연결형 서비스
   - 데이터 순서와 무결성을 보장하지 않지만 빠르고 단순한 전송을 제공한다.

#### IP와 트랜스포트 계층

- IP는 최선형 전달 서비스(best-effort delivery)를 제공한다.
- 트랜스포트 계층은 IP 위에서 동작하며, 필요한 경우 신뢰성과 데이터 순서를 추가적으로 제공한다.

#### 용어 정의

- **세그먼트(segment)**: 트랜스포트 계층의 데이터 단위
- **데이터그램(datagram)**: 네트워크 계층의 데이터 단위 (UDP에서도 종종 사용됨)

---

### 트랜스포트 계층의 서비스

1. **다중화와 역다중화**

   - 다중화: 여러 애플리케이션 데이터를 하나의 네트워크 연결로 결합하여 전송한다.
   - 역다중화: 수신된 데이터를 포트 번호를 기반으로 각 애플리케이션에 분리하여 전달한다.
   - 포트 번호는 송신과 수신 데이터를 올바른 애플리케이션으로 연결하는 데 사용된다.

2. **오류 검출**

   - 헤더에 포함된 오류 검출 필드를 통해 데이터의 무결성을 검사한다.

3. **신뢰적 데이터 전송** (TCP에서 제공)

   - 데이터 분실, 중복, 손상을 방지한다.

4. **혼잡 제어** (TCP에서 제공)

   - 네트워크 혼잡을 방지하고 대역폭을 공평하게 분배한다.

---

### 3.1.3 네트워크 계층(IP) vs. 트랜스포트 계층(TCP)

#### 네트워크 계층(IP)

- **역할**: 패킷을 호스트 간에 전달하는 단순한 기능을 담당한다.
- **특징**: 최선형 전달(Best-Effort Delivery)을 제공하며, 데이터 전달 성공, 순서, 무결성을 보장하지 않는다.
- **결론**: 네트워크 계층은 데이터 전달의 기본적인 틀만 제공한다.

#### 트랜스포트 계층(TCP)

- **역할**: 네트워크 계층이 제공하지 않는 추가적인 신뢰성을 프로세스 간 통신에서 제공한다.
- **특징**: TCP는 재전송, 순서 보장, 데이터 무결성을 통해 네트워크 계층의 결점을 보완한다.
- **결론**: 트랜스포트 계층은 네트워크 계층의 위에서 동작하며, 종단 간 통신을 안정적으로 만든다.

#### TCP의 신뢰성

- 트랜스포트 계층(TCP)은 네트워크 계층(IP)의 비신뢰적 전달을 전제로 설계되었다.
- TCP는 패킷 손실을 감지하고 이를 복구(재전송)하거나 데이터 순서를 맞추는 방식으로 IP의 비신뢰적 특성을 보완한다.

#### 계층적 설계의 원칙

- 인터넷은 각 계층이 독립적으로 설계되어 있다.
- 네트워크 계층은 단순히 패킷 전달을 책임지며, 신뢰성과 같은 복잡한 문제는 상위 계층(트랜스포트 계층)이 처리한다.
- 이는 인터넷이 확장성과 단순성을 유지할 수 있는 비결이다.

---

### 3.1.5 HTTP와 TCP 사례로 이해

- HTTP는 TCP를 사용하여 신뢰적 데이터 전송을 제공한다. 이는 트랜스포트 계층(TCP)이 네트워크 계층(IP)의 비신뢰적 특성을 보완하기 때문이다.
- 비록 네트워크 계층(IP)은 최선형 전달만 제공하지만, TCP가 신뢰성과 데이터 순서를 보장하기 때문에 HTTP는 안정적으로 동작한다.

---

### 3.1.6 결론

- 네트워크 계층과 트랜스포트 계층의 관계는 상호 보완적이다.
- 네트워크 계층이 최선형 전달 서비스를 제공하며 단순한 패킷 전달을 담당하고, 트랜스포트 계층은 이를 기반으로 신뢰성 있는 통신을 구현한다.
- 따라서 HTTP와 TCP는 네트워크 계층(IP)의 제약 속에서도 안정적인 데이터 전송을 실현할 수 있다.

