## 6.3 다중 접속 링크와 프로토콜
채널분할프로토콜 (자원분할), 랜덤접속/순번프로토콜(그 분할된 자원을 사용하는 방식), DOCSIS(앞의 두개를 서비스에 적용하기위한 규격)을
알아보자~~!!!

### 두 종류의 네트워크 링크

### 점대점 링크(Point-to-Point Link) vs 브로드캐스트 링크(Broadcast Link)

1. 점대점 링크:
   - 두 장치 간에 직접 연결된 링크를 의미.
   - 네트워크의 모든 통신은 두 노드 간에 독점적으로 이루어지며, 다른 노드가 관여하지 않는다.
   - 예: 전화기 간의 직접 연결, 광케이블의 단일 연결.

2. 브로드캐스트 링크:
   - 하나의 링크를 통해 여러 장치가 데이터를 공유.
   - 데이터가 네트워크의 모든 노드로 전송되며, 필요한 노드만 해당 데이터를 수신.
   - 예: 이더넷, 무선 네트워크.

---

### 다중 접속 프로토콜의 초점: 브로드캐스트 링크
![image](https://github.com/user-attachments/assets/151c5e4c-a72c-4077-9dc2-c65cd0a1b492)

- 다중 접속 프로토콜(Multiple Access Protocol)은 브로드캐스트 링크에서 여러 노드가 동시에 데이터를 전송할 수 있도록 통신을 조정하는 방법을 말.
- 브로드캐스트 링크에서는 다수의 노드가 하나의 채널을 공유하므로 충돌(Collision)이나 트래픽 관리가 중요.
- 따라서, 알로하(Aloha), CSMA, 순번 프로토콜 등은 모두 브로드캐스트 링크에서의 효율적인 데이터 송수신을 위해 설계되었다.

---

### 왜 점대점 링크에서는 다중 접속 프로토콜이 필요하지 않은가?
- 점대점 링크에서는 두 노드가 독점적으로 통신하므로, 충돌이나 대역폭 분배 문제가 발생하지 않는다.
- 반면, 브로드캐스트 링크에서는 여러 노드가 동시에 데이터를 전송하려고 할 경우 충돌이 발생할 수 있으므로 다중 접속 프로토콜이 필수적.

---

요약하자면, 다중 접속 프로토콜은 브로드캐스트 링크에서 네트워크 자원을 효율적으로 공유하고, 충돌을 최소화하기 위해 사용

---

#### 다중 접속 문제 (Multiple Access Problem)

- 모든 노드가 프레임을 전송할 수 있는 브로드캐스트 채널에서는 두 개 이상의 노드가 동시에 통신을 시도할 수 있다.
- 이 경우, 충돌(Collision)이 발생하여 모든 노드가 여러 개의 프레임을 동시에 받아 내용이 혼란스러워진다.
  - 비유: 여러 사람이 동시에 큰 소리로 말하면 누구의 말을 이해하기 어려운 상황과 같다.
- 충돌로 인해:
  - 관련된 모든 프레임이 손실된다.
  - 빈번한 충돌은 브로드캐스트 채널 대역폭의 낭비를 초래한다.

---

#### 다중 접속 프로토콜 (Multiple Access Protocol)

초당 R bps의 전송률을 갖는 브로드캐스트 채널에서, 효과적인 다중 접속 프로토콜은 다음과 같은 특성을 가져야 한다:

1. 단일 노드 전송 시 효율성
   - 단 하나의 노드만 데이터를 전송하면, R bps의 전송 속도를 유지해야 한다.
2. 여러 노드 전송 시 공평성
   - M개의 노드가 동시에 데이터를 전송하면, 각 노드가 R/M bps의 처리율을 가져야 한다.
   - 주의: 항상 R/M을 유지하는 것은 아니며 평균적으로 보장된다.
3. 분산 구조
   - 특정 마스터 노드가 없어야 한다. 고장으로 인해 전체 시스템이 멈추는 것을 방지한다.
4. 구현 용이성
   - 간단하고 저비용으로 구현 가능해야 한다.

---

### 6.3.1 채널 분할 프로토콜


### TDM (시분할 다중화)
1. 작동 방식:
   - 데이터를 전송할 수 있는 시간 슬롯이 미리 정해져 있고, 각 노드가 자신에게 할당된 시간 슬롯 동안에만 데이터를 전송한다.
   - 예: "한 사람씩 차례로 말하는 회의"처럼, 모든 사용자가 자신의 차례를 기다려야 한다.

2. 특징:
   - 데이터를 전송할 때는 전체 대역폭(Rbps)를 사용할 수 있다.
   - 하지만 자신의 시간 슬롯이 아닌 동안에는 대기해야 하므로 사용 가능한 시간 외에는 대역폭을 낭비하게 된다.

3. 결과:
   - 데이터를 최고 대역폭(Rbps)으로 보낼 수 있지만, 전송 기회는 제한적이다.

---

### FDM (주파수 분할 다중화)
1. 작동 방식:
   - 전체 대역폭(Rbps)을 N개의 주파수 대역으로 나누어, 각 노드가 하나의 주파수 대역을 독점적으로 사용한다.
   - 예: "라디오 방송국"처럼, 모든 방송국이 서로 다른 주파수에서 동시에 송출하는 것과 같다.

2. 특징:
   - 모든 노드는 항상 데이터를 전송할 수 있다.
   - 하지만 각 노드에 할당된 대역폭은 전체 대역폭(Rbps)을 나눈 값(R/Nbps)으로, 전송 속도가 낮아진다.

3. 결과:
   - 데이터를 항상 보낼 수 있지만, 낮은 대역폭만 사용한다.

---

### 요약 비교
| 항목              | TDM                                    | FDM                                    |
|-----------------------|---------------------------------------------|--------------------------------------------|
| 대역폭 사용 방식    | 한 노드가 전체 대역폭(R)을 독점적으로 사용   | 모든 노드가 R/N으로 나눠진 대역폭을 사용     |
| 데이터 전송 가능 시간 | 자신의 시간 슬롯 동안만 가능               | 언제나 전송 가능                            |
| 전송 속도          | 데이터 전송 시 최고 대역폭 (Rbps) 사용       | 항상 낮은 대역폭 (R/Nbps) 사용              |
| 장점              | 충돌 방지, 데이터 전송 시 높은 대역폭        | 지속적으로 데이터 전송 가능                 |
| 단점              | 전송 대기 시간 발생, 대역폭 낭비            | 낮은 대역폭으로 전송 속도가 제한됨          |

---

### 결론
- TDM은 "최고 속도로 전송할 기회를 기다리는 방식"이다.
- FDM은 "언제든지 데이터를 전송할 수 있지만 낮은 대역폭을 사용하는 방식"이다.

## 3. 코드 분할 다중 접속 (Code Division Multiple Access, CDMA)
CDMA는 모든 사용자가 동일한 주파수 대역에서 데이터를 전송하지만, 고유한 코드를 통해 서로의 신호를 구분한다.
- 개념: 각 노드에 고유한 코드를 할당하여, 데이터를 송신할 때 해당 코드를 사용해 데이터를 인코딩한다.
  - 예시: 서로 다른 언어를 사용하는 사람들이 같은 공간에서 각자 대화를 나누는 것과 비슷하다. 같은 언어를 이해하는 사람들끼리는 통신이 가능하다.

- 장점:
  - 여러 노드가 동시에 전송 가능하다.
  - 신중하게 선택된 코드 덕분에 수신자가 원하는 송신자의 데이터를 정확히 복구할 수 있다.
---
   - CDMA는 모든 사용자가 동일한 주파수 대역에서 데이터를 전송하므로, 사용자가 언제든 데이터를 보낼 수 있다.
   - TDM처럼 시간 슬롯을 기다리거나, FDM처럼 고정된 주파수 대역을 할당받을 필요가 없다.
   - 전체 대역폭(R)을 모든 사용자가 공유하므로, 대역폭을 고정적으로 나누는 FDM보다 자원 활용이 효율적이다.
   - 스프레드 스펙트럼 기술을 사용하므로, CDMA는 신호 간섭에 강하며, 보안성도 높다.
   - FDM이나 TDM은 고정된 자원을 나누므로 사용자 수가 늘어나면 한계에 도달하지만, CDMA는 고유 코드만 추가하면 비교적 쉽게 확장이 가능하다.

---
   - 각 사용자에게 고유한 코드가 필요하며, 이 코드들이 서로 간섭하지 않도록 설계하고 관리해야 한다.
   - 코드 간 간섭(Multiple Access Interference)이 발생할 수 있다.
   - 사용자가 많아지면 신호 간 간섭이 증가해 성능이 저하될 수 있다.
   - 이는 FDM이나 TDM에서는 명확히 정의된 자원 분배로 간섭을 방지할 수 있는 점과 차이가 있다.
   - CDMA는 시스템 구현이 더 복잡하고 비용이 높다.
   - 다수의 사용자가 동시에 데이터를 전송해야 하는 이동 통신 네트워크에서 유리하다. 예: 3G 네트워크.
   - CDMA는 스프레드 스펙트럼 기술을 통해 간섭 저항성과 보안성을 제공하므로, 신호가 약하거나 외부 간섭이 많은 환경에서 효과적이다.
   - CDMA는 사용자 확장이 용이하므로, 동적 네트워크 환경(예: 무선 통신)에서 유리하다.
   - 사용자 수와 요구 대역폭이 일정한 환경에서는 TDM과 FDM이 더 간단하고 효율적이다.
   - TDM과 FDM은 기술적으로 구현이 간단하므로 비용이 적게 들고 관리가 쉬운 네트워크에 적합하다.
---

### 요약

다중 접속 링크에서 발생하는 문제를 해결하기 위해 다양한 프로토콜이 사용된다. \
TDM과 FDM은 충돌을 방지하지만 대역폭 효율이 낮아질 수 있으며, \
CDMA는 고유 코드를 활용해 동시에 데이터를 전송할 수 있는 장점이 있다. \
각각의 방법은 네트워크 환경과 요구사항에 맞춰 적절히 선택되어야 한다. \
TDM은 노드 간의 데이터 전송량이 적고 충돌 방지가 중요한 환경에서 적합하다. \
FDM은 라디오 방송과 같이 주파수를 독립적으로 사용할 필요가 있는 경우에 유리하다. \
CDMA는 동시에 많은 사용자가 데이터 전송을 시도하는 모바일 네트워크나 무선 통신에서 효과적이다.

---
### 6.3.2 랜덤 접속 프로토콜
랜덤 접속 프로토콜은 여러 노드가 하나의 채널을 공유하며 데이터를 전송할 때, 충돌을 감지하고 이를 해결하는 방식이다.

---

#### 1. 랜덤 접속 프로토콜의 동작 원리

- 노드가 데이터를 전송할 때 항상 채널의 최대 속도(R bps)로 전송한다.
- 충돌이 발생하면 재전송한다. 다만, 바로 재전송하지 않고 랜덤한 시간만큼 기다린 뒤 재전송한다.
  - 예시 비유: 여러 명의 사람들이 한 번에 소리치면 아무도 들을 수 없으니, 각자 잠깐 기다렸다가 다시 말하는 것과 같다.
- 랜덤한 시간 동안 기다리는 이유는 서로 다른 노드가 겹치지 않게 하기 위함이다.

---

#### 2. 슬롯 알로하 (Slotted ALOHA)

- 슬롯 단위로 동작:

  - 노드는 새로운 데이터를 전송할 때, 슬롯의 시작 시점을 기다렸다가 데이터를 전송한다.
  - 충돌 여부는 슬롯이 끝나기 전에 확인 가능하다.

- 동작 과정:

  1. 데이터를 전송할 새 프레임이 생기면 다음 슬롯 시작 시점까지 기다린다.
  2. 슬롯이 시작되면 데이터를 전송한다.
  3. 만약 충돌이 발생하면, 확률 p(0\~1 사이)로 다음 슬롯에서 재전송을 시도한다.
  4. 충돌하지 않을 때까지 3번 과정을 반복한다.

- 장점:

  1. 효율적 사용: 하나의 노드가 채널의 전송률(R)을 최대한 활용할 수 있다.
  2. 분산 방식: 노드가 충돌 감지 및 재전송 결정을 독립적으로 수행한다.
  3. 단순함: 구현이 쉽다.

- 단점:

  1. 동기화 필요: 모든 노드가 슬롯의 시작 시간을 동기화해야 한다.
  2. 낭비 발생: 충돌이나 비어 있는 슬롯으로 인해 채널 자원이 낭비된다.
  3. 최대 효율: 활성 노드가 많아질수록 효율이 떨어진다. 활성 노드가 많을 때 최대 효율은 약 37%이다.

- 효율성:

  - 노드 수가 N개이고, 전송 확률이 p일 때 한 슬롯에서 성공적으로 전송될 확률은 다음과 같다:

예를 들어, 노드가 3개이고 각 노드가 전송할 확률 p=0.2라 가정해 보자. 한 슬롯에서 정확히 한 노드만 성공적으로 전송하려면:

1. 한 노드가 전송에 성공할 확률은 p=0.2이다. 예를 들어, 노드가 3개이고 각 노드의 전송 확률이 p=0.2라면:
2. 한 노드가 데이터를 성공적으로 전송할 확률은 p=0.2이다.
3. 나머지 두 노드가 전송하지 않을 확률은 (1-p)² = 0.8² = 0.64이다.
4. 따라서, 한 슬롯에서 성공 확률은 3 x 0.2 x 0.64 = 0.384 (38.4%)이다.

이를 통해, 슬롯 알로하의 최대 효율을 이해할 수 있다. 이는 슬롯 기반 동기화로 인해 충돌을 최소화한 결과이다.

이를 통해, 최대 효율을 직관적으로 이해할 수 있다.

- 이를 최대화하는 p를 구하면, 최대 효율은 약 37%이다.

- 비유: 여러 사람이 제한된 시간 안에 질문을 하려고 한다면, 한 사람만 질문하고 나머지는 대기할 때 가장 효율적이다. 하지만 모든 사람이 동시에 질문하려 하면 혼란이 생겨 효율이 떨어진다.

---

#### 3. 알로하 (ALOHA)

- 슬롯 개념 없이 전송: 슬롯 알로하와 달리, 프레임이 준비되면 즉시 전송한다.

- 동작 과정:

  1. 노드가 전송할 프레임이 생기면, 즉시 전송한다.
  2. 충돌이 발생하면 확률 p로 즉시 재전송을 시도하거나, 랜덤하게 지연 후 다시 재전송한다.

- 효율성:

  - 노드 수가 N개이고, 전송 확률이 p일 때 성공 확률은:

  - 이를 최대화하면 최대 효율은 약 18%(1/2e)이다. \
    예를 들어, 노드가 3개이고 각 노드가 전송할 확률이 p=0.1이라 가정하자. 한 노드가 성공적으로 전송하려면:

1. 해당 노드가 데이터를 전송할 확률은 p=0.1이다.
2. 나머지 두 노드가 전송하지 않을 확률은 (1-p)^2 = 0.9^2 = 0.81이다.
3. 성공 확률은 3(N) x 0.1(p) x 0.81 = 0.243 (24.3%)이다.

노드 수가 많아지고 확률이 조정되면, 최대 효율은 1/2e(약 18%)로 수렴한다. 이는 동기화가 없는 환경에서 무작위 전송으로 인한 충돌이 더 자주 발생하기 때문이다.

- 특징:
  1. 동기화 필요 없음: 슬롯 알로하보다 구현이 간단하다.

  2. 낮은 효율: 슬롯 알로하 대비 효율이 절반 수준이다.

  3. 비유: 사람들이 아무 때나 질문을 시작한다면, 서로 말이 겹쳐 혼란이 커지고 효율이 더 낮아지는 상황과 비슷하다.

---

### 랜덤 접속 프로토콜 비교 요약

| 프로토콜       | 동작 방식     | 최대 효율 | 동기화 필요 여부 | 구현 난이도 |
| ---------- | --------- | ----- | --------- | ------ |
| 슬롯 알로하 | 슬롯 단위로 전송 | 약 37% | 필요        | 낮음     |
| 알로하    | 즉시 전송     | 약 18% | 불필요       | 매우 낮음  |

- 요약 비유:
  - 슬롯 알로하: 사람들이 순서를 정해 한 명씩 말하는 방식으로, 효율은 높으나 동기화가 필요하다.
  - 알로하: 사람들이 아무 때나 말하기 시작하는 방식으로, 단순하지만 효율이 낮다.

---

## 1. CSMA (Carrier Sense Multiple Access)

CSMA는 충돌을 줄이기 위해 다른 노드가 채널을 사용 중인지 확인하는 프로토콜이다. 하지만 충돌을 완전히 방지하지는 못한다. 동작 원리는 다음과 같다:

#### 1.1 캐리어 감지 (Carrier Sensing)

- 다른 노드가 프레임을 전송하고 있다면, 노드는 임의의 짧은 시간 동안 전송을 중단한다.
- 전송 중단 후, 채널이 유휴 상태로 감지되면 프레임을 전송한다.

#### 1.2 충돌 발생 시나리오

- 노드 B가 시각 t0에 채널이 비어 있다고 판단하고 데이터를 전송하기 시작한다.
- B의 데이터가 전파되기 전에, 노드 D가 시각 t1에 채널이 비어 있다고 판단하여 데이터를 전송한다.
- 결과적으로 B와 D의 데이터가 충돌한다. 이는 채널 전파 지연 때문에 발생하는데, 이는 동시성 문제와 유사한 개념으로 볼 수 있다. \
  즉, 여러 노드가 동시에 채널에 접근하려고 할 때, \
  채널 상태를 완전히 파악하기 전에 전송을 시작해 충돌이 발생하는 상황이다.

#### 1.3 성능에 미치는 영향

- 채널 전파 지연이 클수록 충돌 가능성이 높아진다.
- 따라서, CSMA는 충돌 가능성을 줄일 수는 있지만 완전히 제거하지는 못한다.

---

### 2. CSMA/CD (Collision Detection)

CSMA/CD는 CSMA의 확장 버전으로, 충돌을 감지하고 즉시 전송을 취소하는 기능을 추가한 프로토콜이다. 이더넷에서 주로 사용된다.

#### 2.1 동작 과정

1. 네트워크 계층에서 받은 데이터그램을 링크 계층 프레임으로 변환한다.
2. 어댑터는 채널이 유휴 상태인지 확인하고, 유휴 상태라면 프레임을 전송한다.
3. 전송 중 충돌이 감지되면:
   - 즉시 전송을 중단한다.
   - 임의의 랜덤 시간 동안 대기한 후 다시 전송을 시도한다.

#### 2.2 랜덤 시간 결정: 이진 지수적 백오프(Binary Exponential Backoff)

- 충돌 횟수 n에 따라 대기 시간 K를 랜덤하게 결정한다. (0 ≤ K ≤ 2^n - 1)
- 이더넷에서는 K x 512 비트 시간 만큼 대기한다.
- 충돌 횟수가 많아질수록 대기 시간이 지수적으로 증가한다.

#### 2.3 효율성

효율은 다음과 같은 수식으로 계산된다:

- 효율 = 1 / (1 + 5d(prop) / d(trans))
- d(prop): 신호가 두 어댑터 사이에서 전파되는 데 걸리는 시간
- d(trans): 최대 크기의 프레임을 전송하는 데 걸리는 시간
- 전파 지연이 짧거나 전송 시간이 길수록 효율이 높아진다.

---

### CSMA와 CSMA/CD의 차이 비교

| 항목         | CSMA                 | CSMA/CD               |
| ---------- | -------------------- | --------------------- |
| 충돌 방지      | 캐리어 감지만 수행, 충돌 발생 가능 | 충돌 감지 후 즉시 전송 취소      |
| 충돌 후 처리    | 충돌 발생 후에도 계속 전송 시도   | 충돌 발생 시 전송 중단 및 랜덤 대기 |
| 랜덤 대기 알고리즘 | 없음                   | 이진 지수적 백오프 알고리즘 사용    |
| 효율성        | 전파 지연에 따라 성능 저하 가능   | 전파 지연이 짧을수록 성능 향상     |
| 사용 예시      | 초기 네트워크 프로토콜         | 이더넷 네트워크              |

---

### 쉬운 예시 비유

#### CSMA의 비유: 공중전화 부스

- 여러 사람이 공중전화 부스를 사용하려고 한다고 가정하자.
- A가 부스가 비어 있는지 확인하고 전화를 사용하기 시작한다.
- 그러나 B는 A가 사용 중인 사실을 모른 채 부스에 들어가 전화를 걸려고 한다.
- 결과적으로 둘이 부딪히고 충돌이 발생한다.

#### CSMA/CD의 비유: 공중전화 부스 + 충돌 감지

- 이번에는 충돌을 감지할 수 있는 센서가 부스에 설치되어 있다고 가정하자.
- A가 부스를 사용 중일 때, B가 부스에 들어오면 센서가 충돌을 감지하고 B를 멈추게 한다.
- B는 랜덤한 시간 동안 대기한 후 다시 부스를 확인하고, 비어 있으면 사용한다.
- 이렇게 하면 충돌 후 불필요한 에너지가 낭비되는 것을 막을 수 있다.

#### 추가 쉬운 예시: 도로 교차로

- CSMA: 신호등이 없는 교차로에서 차량들이 먼저 진입하려다 충돌이 나는 상황이다.
- CSMA/CD: 신호등이 있는 교차로에서 충돌을 방지하는 시스템이다. 만약 차량이 충돌할 뻔하면 신호등이 이를 감지하고 대기 시간을 조정해 차량들이 안전하게 통행하도록 한다.

---

### 요약

- CSMA는 캐리어 감지를 통해 충돌 가능성을 줄이지만, 채널 전파 지연으로 인해 충돌이 발생할 수 있다.
- CSMA/CD는 충돌을 감지하고 즉시 전송을 중단하여 효율성을 높인다.
- 이진 지수적 백오프 알고리즘을 통해 충돌 후 랜덤 대기 시간을 설정하여 다시 전송한다.
- 전파 지연과 전송 시간이 효율성에 큰 영향을 미친다.

위 내용을 통해 CSMA와 CSMA/CD의 동작 원리와 차이를 이해할 수 있다.

---
## 6.3.3 순번 프로토콜

### 4. 다중 접속 프로토콜에서의 특성과 한계

#### 다중 접속 프로토콜의 요구 특성
다중 접속 프로토콜은 네트워크에서 여러 노드가 데이터를 송수신할 때 다음 두 가지 특성을 요구한다:

1. 단일 노드 활성 시 최대 처리율: 네트워크에 단 하나의 노드만 활성 상태라면, 해당 노드는 네트워크 전체 대역폭(Rbps)을 사용할 수 있어야 한다.
2. 다수 노드 활성 시 공정한 대역폭 분배: M개의 노드가 활성 상태라면, 각 노드는 R/M bps의 처리율을 가져야 한다.

#### 알로하 및 CSMA의 한계
1. 첫 번째 특성 충족: 
   - 알로하(Aloha)와 CSMA(Carrier Sense Multiple Access)는 네트워크에 단일 노드만 활성화된 경우 전체 대역폭(Rbps)을 사용할 수 있다.
2. 두 번째 특성 미충족:
   - 여러 노드가 활성화되면, 충돌(Collision) 및 재전송 과정으로 인해 각 노드가 R/M bps의 처리율을 보장받지 못한다.
   - 충돌이 발생하면 데이터 손실과 네트워크 자원 낭비가 발생한다.
   - 이로 인해 네트워크 성능이 저하되고, 공정한 대역폭 분배가 어렵다.

#### 순번 프로토콜의 필요성
알로하와 CSMA의 충돌 문제와 공정성 부족을 해결하기 위해 순번 프로토콜(Taking-Turns Protocol)이 개발되었다. 이 프로토콜은 노드 간 데이터 송수신 기회를 순서대로 제공하여 충돌을 방지하고, 대역폭이 공정하게 분배되도록 보장한다.

### 1. 폴링 프로토콜 (Polling Protocol)

#### 정의

폴링 프로토콜은 중앙 제어 장치(마스터)가 네트워크의 각 노드(슬레이브)를 순서대로 호출하여 데이터를 송수신할 기회를 제공하는 방식이다. 각 노드는 마스터가 호출하기 전까지 데이터 전송 권한을 가지지 못한다.

#### 동작 원리

1. 마스터 장치가 네트워크의 각 노드를 순서대로 호출한다.
   - 예를 들어, 노드 A, B, C가 있다면 마스터는 A → B → C 순서로 접근한다.
2. 호출된 노드는 데이터 송수신을 수행한다.
   - 만약 전송할 데이터가 없으면 다음 노드로 넘어간다.
3. 모든 노드를 순회하면, 마스터는 다시 처음 노드로 돌아가서 동일한 프로세스를 반복한다.

#### 방식

- 중앙 집중식 제어: 마스터 장치가 네트워크의 모든 통신을 관리하며, 데이터 전송 순서를 제어한다.
- 순차적 접근: 네트워크의 노드들은 정해진 순서대로 호출된다.

#### 예시

- Modbus 프로토콜: 산업 자동화 환경에서 데이터 통신에 사용되는 대표적인 프로토콜이다.
- 프린터 통신: 여러 사용자가 프린터를 공유할 때, 중앙 시스템이 각 사용자 요청을 처리하는 방식으로 동작한다.

#### 장점

1. 데이터 충돌 방지: 마스터가 각 노드를 순서대로 호출하므로 데이터 충돌이 발생하지 않는다.
2. 구현의 단순성: 네트워크의 통신 흐름을 단일 장치가 관리하므로 설계와 구현이 비교적 간단하다.
3. 예측 가능한 트래픽: 네트워크 트래픽 패턴이 일정하게 유지된다.

#### 단점

1. 단일 장애점(Single Point of Failure): 마스터 장치가 고장 나면 네트워크 전체가 작동하지 않는다.
2. 확장성 문제: 노드 수가 많아질수록 마스터가 모든 노드를 순회하는 데 더 많은 시간이 소요된다.
3. 마스터 의존도: 네트워크 성능이 마스터 장치의 처리 능력에 크게 의존한다.

---

### 2. 토큰 전달 프로토콜 (Token-Passing Protocol)

#### 정의

토큰 전달 프로토콜은 네트워크 노드 간에 데이터 송수신 권한(토큰)을 순서대로 전달하며 통신을 관리하는 분산 제어 방식이다. 토큰은 데이터 충돌 방지를 위해 유일하게 존재하며, 이를 통해 네트워크의 통신이 질서 있게 이루어진다.

#### 동작 원리

1. 네트워크에서 유일한 토큰(Token)을 생성한다.
2. 토큰은 노드 간에 순서대로 전달되며, 토큰을 가진 노드만 데이터 송수신을 수행할 수 있다.
3. 데이터 전송이 완료되거나 전송할 데이터가 없으면, 해당 노드는 토큰을 다음 노드로 전달한다.
4. 토큰은 네트워크를 순환하며 모든 노드가 차례대로 통신 기회를 갖는다.

#### 방식

- 분산 제어: 중앙 제어 장치 없이 각 노드가 협력하여 통신을 관리한다.
- 토큰 기반 순환: 토큰은 정해진 순서에 따라 노드들 사이를 순회하며, 노드 추가/삭제 시에도 네트워크 재구성을 통해 순서를 유지한다.

#### 예시

- Token Ring 네트워크: IEEE 802.5 표준 기반 네트워크로, 데이터 송수신 권한을 토큰을 통해 관리한다.
- CAN(Controller Area Network): 자동차의 전자 제어 장치 간 통신에서 사용되는 프로토콜로, 토큰 전달 방식과 유사한 원리를 적용한다.

#### 장점

1. 데이터 충돌 방지: 토큰이 유일하기 때문에 동시에 여러 노드가 데이터를 전송하려는 충돌 상황이 발생하지 않는다.
2. 트래픽 균일성: 토큰이 순서대로 전달되므로 네트워크 트래픽이 일정하게 유지된다.
3. 단일 장애점 제거: 중앙 제어 장치가 없으므로 단일 장애점 문제가 없다.

#### 단점

1. 토큰 분실 문제: 토큰이 분실되면 네트워크가 정지하며, 이를 복구하기 위한 절차가 필요하다.
2. 토큰 전달 지연: 네트워크 크기가 커질수록 토큰이 모든 노드를 순회하는 데 시간이 증가한다.
3. 유지보수의 복잡성: 노드 추가/삭제 시 네트워크 재구성이 필요하며, 복잡도가 증가할 수 있다.

---

### 3. 단일 장애점(Single Point of Failure) 정의

단일 장애점은 시스템 구성 요소 중에서 하나가 고장 났을 때 전체 시스템이 중단되는 상황을 말한다.

- 폴링 프로토콜에서의 단일 장애점: 마스터 장치가 고장 나면 네트워크의 데이터 송수신이 완전히 멈추게 된다. 이는 중앙 제어 방식의 가장 큰 약점이다.
- 이를 해결하기 위해 마스터 장치의 이중화(Redundancy) 또는 분산 제어 방식을 도입하는 경우도 있다.

---

### 4. 표로 정리

| 항목    | 폴링 프로토콜(Polling Protocol)              | 토큰 전달 프로토콜(Token-Passing Protocol)   |
| --------- | ------------------------------------------ | ---------------------------------------- |
| 정의    | 마스터가 노드에 순차적으로 접근하여 데이터 송수신 권한을 부여하는 방식    | 토큰을 통해 데이터 송수신 권한을 순서대로 전달하는 방식          |
| 동작 원리 | 마스터가 네트워크를 순회하며 각 노드에 데이터 전송 기회를 부여        | 노드 간 유일한 토큰을 순환하여 데이터 송수신 권한을 부여         |
| 제어 방식 | 중앙 집중식 제어                                  | 분산 제어                                    |
| 예시    | Modbus, 프린터 통신                             | Token Ring, CAN                          |
| 장점    | - 데이터 충돌 방지<br>- 구현이 간단<br>- 예측 가능한 트래픽 관리         | - 데이터 충돌 방지<br>- 일정한 트래픽 유지<br>- 중앙 제어 없음        |
| 단점    | - 단일 장애점 존재<br>- 노드 수가 많아질수록 지연 증가<br>- 마스터 의존도 높음 | - 토큰 분실 시 복구 필요<br>- 토큰 전달 지연<br>- 노드 추가/삭제 시 복잡 |

---


### DOCSIS와 다중 접속 프로토콜
DOCSIS는 위 순번/랜덤 프로토콜과 채널분할 프로토콜등을 이용한 서비스 규격임.
1. 브로드캐스트 기반 네트워크:
   - DOCSIS는 케이블 TV 네트워크를 기반으로 작동하며, 이는 브로드캐스트 링크에 해당한다.
   - 케이블 네트워크에서는 여러 사용자가 동시에 인터넷을 사용할 수 있도록 채널을 공유한다.

2. 채널 접근 방식:
   - DOCSIS는 TDMA(Time Division Multiple Access)와 FDMA(Frequency Division Multiple Access)      
같은 다중 접속 기법을 활용하여 여러 사용자가 네트워크를 효율적으로 사용할 수 있게 한다.
   - 이를 통해 각 사용자가 적절한 시간 및 주파수 대역을 배정받아 데이터를 송수신한다.

3. 충돌 방지:
   - DOCSIS는 요청 및 할당(Request and Grant) 메커니즘을 통해 충돌을 방지한다.
   - 업스트림 데이터 전송 시, 사용자는 데이터를 전송하기 전에 먼저 네트워크에 전송 요청을 보낸다.
   - 네트워크가 요청을 승인하면 사용자는 데이터를 전송하며, 이 과정에서 충돌이 발생하지 않는다.

---

### DOCSIS의 다중 접속 프로토콜로서의 특징
1. 효율적인 리소스 관리:
   - 네트워크 리소스를 다수의 사용자가 효율적으로 공유할 수 있도록 설계되었다.
   - TDMA/FDMA와 같은 접근 방식을 통해 자원을 시간 및 주파수 단위로 할당한다.

2. 업스트림과 다운스트림 관리:
   - 업스트림(사용자에서 네트워크로 데이터 전송)과 다운스트림(네트워크에서 사용자로 데이터 전송)을 별도로 관리하며, 이를 통해 대역폭을 효율적으로 사용한다.

3. QoS(Quality of Service) 지원:
   - 사용자 간 데이터 우선순위를 설정하여 중요한 데이터(예: VoIP, 스트리밍 서비스)에 높은 대역폭을 할당한다.

4. 다중 사용자 환경에 적합:
   - DOCSIS는 여러 사용자가 동시에 인터넷을 사용하는 환경에서도 안정적으로 작동할 수 있도록 설계되었다.

---

### 결론
DOCSIS는 다중 접속 프로토콜의 범주에 속한다.        
이는 브로드캐스트 링크를 사용하는 케이블 네트워크에서 다수의 사용자가 네트워크를 공유할 수 있도록 설계된 표준이기 때문이다.        
특히 TDMA/FDMA 방식과 충돌 방지 메커니즘을 통해 효율적인 네트워크 사용을 보장한다.        
DOCSIS는 단순한 다중 접속 프로토콜을 넘어, 고속 인터넷 및 다양한 멀티미디어 서비스를 제공하는 데 최적화된 기술이다.


-----

## FDMA, TDMA, CDMA와 순번/랜덤 프로토콜은 각각 다른 네트워크 계층에서 동작

### 1. FDMA, TDMA, CDMA (채널 분할 방법)
- 동작 계층: 물리 계층 (Physical Layer)  
  - 이들은 물리적인 데이터 전송 방식을 정의한다.  
  - FDMA (Frequency Division Multiple Access): 주파수 대역을 나누어 각 사용자에게 할당.  
  - TDMA (Time Division Multiple Access): 시간 슬롯을 나누어 사용자 간 전송을 분리.  
  - CDMA (Code Division Multiple Access): 사용자마다 고유 코드로 데이터를 인코딩하여 동시에 전송.

### 2. 순번 프로토콜 / 랜덤 프로토콜 (접근 방식)
- 동작 계층: 데이터 링크 계층 (Data Link Layer)  
  - 이들은 네트워크에서 매체 접근 제어(MAC, Media Access Control) 방식을 정의한다.  
  - 순번 프로토콜:
    - 토큰 전달: 네트워크 내 하나의 토큰을 사용하여 순서대로 접근 권한 부여.  
    - 폴링 (Polling): 중앙 제어 장치가 각 노드의 데이터 전송 요청을 순차적으로 확인.
  - 랜덤 프로토콜:
    - 알로하 / 슬롯 알로하: 무작위로 데이터 전송 시도. 충돌 발생 시 재전송.  
    - CSMA (Carrier Sense Multiple Access): 전송 전에 채널 상태를 확인.  
    - CSMA/CD (Collision Detection): 충돌을 탐지하고 데이터 전송 중단 후 재전송.
---

### FDMA, TDMA, CDMA는 채널 분할 방식
1. FDMA:
   - 주파수 대역을 여러 개로 나누고, 각 대역을 사용자에게 고정적으로 할당하는 방식이다.
   - 예: 라디오 방송국 주파수 할당.
   - 데이터 전송이 충돌 없이 이루어진다.

2. TDMA:
   - 시간 슬롯을 나누어, 각 사용자에게 특정 시간 동안 전송할 기회를 부여하는 방식이다.
   - 예: 전화 교환 시스템.
   - 충돌이 없지만, 사용자는 자신의 시간 슬롯이 오기까지 기다려야 한다.

3. CDMA:
   - 모든 사용자가 동일한 주파수 대역을 공유하면서 고유한 코드를 통해 데이터를 구분하는 방식이다.
   - 예: 3G 이동통신.
   - 충돌 가능성이 매우 낮으며, 동시 전송이 가능하다.

이 방식들은 물리 계층(Physical Layer)에서 작동하며, 네트워크 리소스를 분할하고 충돌을 방지하는 데 사용된다.

---

### 랜덤 프로토콜은 채널 접근 방식
랜덤 프로토콜은 네트워크에서 다수의 장치가 동일한 채널에 접근할 때, 충돌을 최소화하거나 해결하기 위해 설계된 방법이다. 이는 주로 데이터 링크 계층(Data Link Layer)에서 동작한다.

1. 알로하(Aloha):
   - 데이터를 전송하고, 충돌이 발생하면 재전송하는 간단한 방식이다.
   - 단점: 충돌로 인해 네트워크 효율이 낮다.

2. 슬롯 알로하(Slotted Aloha):
   - 시간 슬롯을 도입하여, 데이터 전송을 특정 시간에만 허용함으로써 충돌 확률을 줄인다.
   - 알로하보다 효율적이다.

3. CSMA(Carrier Sense Multiple Access):
   - 데이터 전송 전에 채널을 감지하여 비어 있을 때만 전송한다.
   - 충돌 가능성이 줄어들지만, 여전히 완전히 방지할 수는 없다.

4. CSMA/CD(Carrier Sense Multiple Access with Collision Detection):
   - CSMA의 충돌 문제를 해결하기 위해, 충돌이 발생하면 즉시 감지하고 전송을 중단한다.
   - 이더넷에서 사용되는 대표적인 프로토콜이다.

랜덤 프로토콜은 FDMA, TDMA, CDMA 같은 채널 분할 방식이 없는 환경에서 주로 사용되며, 공유 매체에서 데이터 전송을 제어한다.

---

### DOCSIS에서의 활용
DOCSIS(Data Over Cable Service Interface Specification)는 주로 케이블 네트워크 환경에서 사용되며,           
DOCSIS는 하나의 서비스 규격으로D서, TDMA, FDMA, CSMA/CA와 같은 기술과 프로토콜을 포함하여 데이터를 전송하는 방법을 정의한 표준 규격.     
쉽게 말해, DOCSIS 규격 안에 이러한 기술들이 필요에 따라 조합되어 구현        

---
### 순번 프로토콜, 랜덤 프로토콜, DOCSIS 비교 표

| 항목                | 순번 프로토콜 (Taking-Turns Protocol)              | 랜덤 프로토콜 (Random Access Protocol)                  | DOCSIS                                     |
|-------------------------|-------------------------------------------------------|------------------------------------------------------------|------------------------------------------------|
| 개념               | 노드들이 순서대로 데이터 전송 기회를 받는 방식          | 노드들이 채널에 랜덤하게 접근하여 데이터를 전송하는 방식       | 케이블 네트워크에서 데이터 전송을 위한 표준 시스템 |
| 대표 방식           | 폴링 프로토콜, 토큰 전달 프로토콜                      | 알로하, 슬롯 알로하, CSMA, CSMA/CD                          | TDMA + FDMA + 슬롯 알로하                       |
| 충돌 방지/해결 방법 | 충돌이 발생하지 않음                                   | 충돌 발생 시 재전송 또는 중단 (예: CSMA/CD의 충돌 감지)       | 슬롯 알로하로 요청 충돌 처리, 자원 할당 후 충돌 없음 |
| 동작 방식           | - 각 노드가 순서대로 데이터 전송 기회를 가짐<br>- 충돌이 없음 | - 채널 감지 없이 데이터 전송 (알로하)<br>- 충돌 발생 시 재전송 | - 업스트림: 슬롯 알로하로 요청<br>- 데이터 전송: TDMA/FDMA 사용 |
| 장점               | - 충돌 없이 효율적으로 작동<br>- 자원 분배가 공정함        | - 구현이 간단<br>- 비어 있는 채널을 즉시 활용 가능            | - 충돌 최소화<br>- 케이블 네트워크에서 고속 데이터 전송 가능 |
| 단점               | - 노드가 차례를 기다려야 함<br>- 지연 시간 발생           | - 충돌 가능성 높음<br>- 충돌로 인한 대역폭 낭비              | - 복잡한 시스템 구현 필요<br>- 초기 요청 시 충돌 가능 |
| 사용 사례           | - Token Ring 네트워크<br>- 산업용 제어 네트워크          | - 무선 네트워크 (Wi-Fi)<br>- 초기 이더넷                    | - 케이블 인터넷<br>- VoIP, 스트리밍 등            |

---
### FDMA, TDMA, CDMA

| 항목        | FDMA (주파수 분할 다중 접속)             | TDMA (시간 분할 다중 접속)               | CDMA (코드 분할 다중 접속)               |
|-----------------|---------------------------------------------|---------------------------------------------|----------------------------------------------|
| 개념        | 주파수를 여러 대역으로 나누어 각 사용자에 할당 | 시간을 여러 슬롯으로 나누어 각 사용자에 할당  | 모든 사용자가 동일 주파수 대역을 공유하며 고유 코드로 구분 |
| 사용 방식    | 사용자는 고유 주파수 대역을 독점적으로 사용    | 사용자는 고유 시간 슬롯에서만 데이터를 전송   | 사용자는 데이터를 고유 코드로 인코딩하여 전송 |
| 충돌 여부    | 충돌 없음                                     | 충돌 없음                                     | 코드 간 간섭 가능                               |
| 장점        | 충돌 방지, 구현 간단                          | 충돌 방지, 공정성 보장                        | 여러 사용자가 동시에 전송 가능, 잡음 저항성 우수 |
| 단점        | 대역폭 분할로 인한 효율 저하                  | 대기 시간 발생, 슬롯 비효율                   | 코드 관리 복잡, 사용자 증가 시 성능 저하       |
| 사용 사례    | 라디오 방송, 위성 통신                        | GSM (2G 이동통신), 회의실 예약 시스템         | 3G 이동통신, 위성 네트워크                    |

---

### 랜덤 프로토콜 (알로하, 슬롯 알로하, CSMA, CSMA/CD)

| 항목        | 알로하 (Aloha)                         | 슬롯 알로하 (Slotted Aloha)              | CSMA                                      | CSMA/CD                                   |
|-----------------|--------------------------------------------|---------------------------------------------|----------------------------------------------|-----------------------------------------------|
| 개념        | 데이터를 무작위로 전송, 충돌 발생 시 재전송  | 데이터를 시간 슬롯에 맞춰 전송, 충돌 시 재전송| 데이터 전송 전에 채널 상태를 확인             | 충돌 발생 시 즉시 감지 후 전송 중단 및 재전송 |
| 충돌 여부    | 충돌 가능성 높음                            | 충돌 가능성 낮음                              | 충돌 가능성 낮음                              | 충돌 시 빠르게 해결                            |
| 장점        | 구현 간단, 동작 유연성                      | 충돌 확률 감소, 대역폭 효율성 증가            | 채널 상태 확인으로 충돌 감소                  | 충돌 시 네트워크 자원 낭비 최소화             |
| 단점        | 충돌 빈번, 대역폭 낭비                     | 슬롯 대기 시간 발생                           | 채널 상태 확인 시간 필요                      | 복잡한 충돌 감지 메커니즘 필요                |

---

### 순번 프로토콜 (토큰 전달 프로토콜, 폴링 프로토콜)

| 항목        | 토큰 전달 프로토콜 (Token-Passing Protocol)| 폴링 프로토콜 (Polling Protocol)         |
|-----------------|-----------------------------------------------|----------------------------------------------|
| 개념        | 네트워크 토큰을 가진 노드만 데이터 전송 가능   | 중앙 제어 장치가 각 노드에 순서대로 데이터 전송 기회를 부여 |
| 충돌 여부    | 충돌 없음                                      | 충돌 없음                                     |
| 장점        | 충돌 방지, 공정성 보장                         | 충돌 방지, 간단한 구현                        |
| 단점        | 토큰 분실 시 복구 필요, 대기 시간 발생          | 중앙 제어 장치 고장 시 전체 네트워크 중단      |


### 요약
- FDMA, TDMA, CDMA는 채널을 효율적으로 분할하여 데이터를 전송하는 방법으로, 주로 물리 계층에서 사용된다.
- 랜덤 프로토콜(알로하, CSMA 등)은 동일 채널을 공유하는 환경에서 데이터를 전송하기 위한 충돌 방지 및 해결 메커니즘으로, 데이터 링크 계층에서 동작한다.
- DOCSIS는 주로 TDMA와 FDMA를 활용하며, 랜덤 프로토콜(슬롯 알로하 등)을 일부 적용해 초기 요청을 처리한다.

결론적으로, FDMA, TDMA, CDMA는 기반 기술, 랜덤 프로토콜은 채널 접근 전략으로, 서로 다른 계층과 목적을 가지고 동작하지만, 특정 시스템(DOCSIS)에서 결합되어 사용될 수 있다.
